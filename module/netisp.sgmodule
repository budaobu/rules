#!name=ÁΩëÁªú‰ø°ÊÅØ ùïè (Entrance Fixed)
#!desc=ËøòÂéü Surge ÂéüÁîüÂÖ•Âè£Ê£ÄÊµãÈÄªËæë (APIËØªÂèñ)„ÄÇÂåÖÂê´ IP/ASN/ËøêËê•ÂïÜ/Á∫ØÂáÄÂ∫¶/ÂéüÁîüÊ£ÄÊµã„ÄÇ
#!category=Panel
#!author=@keywos @xream (Modified)
#!arguments=Proxy:Proxy,DOMESTIC_IPv4:spcn,DOMESTIC_IPv4_KEY:Ëã•Êé•Âè£ÈúÄË¶ÅÂ∞±Â°´ËøôÈáå,DOMESTIC_IPv6:ddnspod,LANDING_IPv4:ipapi,LANDING_IPv4_KEY:Ëã•Êé•Âè£ÈúÄË¶ÅÂ∞±Â°´ËøôÈáå,LANDING_IPv6:ipsb,DNS:ali,FLAG:1,ASN:1,ORG:0,PRIVACY:0,LAN:1,SSID:1,IPv6:0,MASK:0,TIMEOUT:5,RETRIES:1,RETRY_DELAY:1,ENTRANCE_DELAY:0,PANEL_NAME:ÁΩëÁªú‰ø°ÊÅØÈù¢Êùø,UPDATE-INTERVAL:-1,ICON:globe.asia.australia,ICON-COLOR:#6699FF
#!arguments-desc=Proxy: [ÈáçË¶Å] ÊåáÂÆöÁî®‰∫éÊ£ÄÊµãËêΩÂú∞IPÂíåÁ∫ØÂáÄÂ∫¶ÁöÑÁ≠ñÁï•ÁªÑÂêçÁß∞(Â¶Ç Proxy, HK, Auto Á≠â)\n\n¬∑ ÂºÄÂÖ≥ËÆæÁΩÆ (1ÂºÄÂêØ, 0ÂÖ≥Èó≠):\n  [LAN] ÊòæÁ§∫ÂÜÖÁΩëIP\n  [SSID] ÊòæÁ§∫WiFiÂêçÁß∞\n  [IPv6] ÊòæÁ§∫IPv6Âú∞ÂùÄ\n  [MASK] IPÈöêÁßÅÊâìÁ†Å (Â¶Ç 1.2.*.*)\n  [FLAG] ÊòæÁ§∫Âú∞Âå∫ÂõΩÊóó\n  [ASN] ÊòæÁ§∫ASNÁºñÂè∑\n  [ORG] ÊòæÁ§∫ISPÁªÑÁªáÂêçÁß∞\n  [PRIVACY] ÊòæÁ§∫IPÁ∫ØÂáÄÂ∫¶ÂèäÂéüÁîüÊ£ÄÊµã(Êù•Ê∫ê ippure)\n\n¬∑ Êï∞ÊçÆÊ∫êËÆæÁΩÆ:\n  [DOMESTIC_IPv4] ÂõΩÂÜÖÊ∫ê: spcn, bilibili, 126, ipip, ip233, ali(ÈúÄÂ°´KEY)\n  [LANDING_IPv4] ËêΩÂú∞Ê∫ê: ipapi(Êé®Ëçê), ipinfo(ÈúÄÂ°´KEY), ipsb, ipscore, ipwhois\n  [DOMESTIC/LANDING_IPv6] IPv6Ê∫ê: ddnspod, neu6, ipsb, ident, ipify\n\n¬∑ ÂÖ∂‰ªñËÆæÁΩÆ:\n  [DNS] ÂÖ•Âè£ÂüüÂêçËß£ÊûêDNS (ali, google, cf, tencent)\n  [TIMEOUT] ËØ∑Ê±ÇË∂ÖÊó∂(Áßí)\n  [ENTRANCE_DELAY] ÂÖ•Âè£Êü•ËØ¢Âª∂Êó∂(Èò≤Ê≠¢È£éÊéß)\n  [UPDATE-INTERVAL] Èù¢ÊùøËá™Âä®Âà∑Êñ∞Èó¥Èöî(Áßí)

[Rule]
# === ÂÖ≥ÈîÆÔºöÁ≠ñÁï•ÂàÜÊµÅ ===
# ÂõΩÂÜÖÊé•Âè£ -> Áõ¥Ëøû
#DOMAIN,api.live.bilibili.com,DIRECT
#DOMAIN,api.bilibili.com,DIRECT
#DOMAIN,ipservice.ws.126.net,DIRECT
#DOMAIN,myip.ipip.net,DIRECT
DOMAIN-SUFFIX,speedtest.cn,DIRECT
# ÂõΩÂ§ñÊé•Âè£ -> Ëµ∞‰ª£ÁêÜ (ËÑöÊú¨Â∞ÜÈÄöËøá API Êü•ËØ¢Ëøô‰∫õËØ∑Ê±ÇÁöÑÂÖ•Âè£ËäÇÁÇπ)
DOMAIN-SUFFIX,my.ippure.com,{{{Proxy}}}
DOMAIN-SUFFIX,ip-api.com,{{{Proxy}}}
DOMAIN-SUFFIX,ipinfo.io,{{{Proxy}}}
DOMAIN-SUFFIX,ipapi.co,{{{Proxy}}}
DOMAIN-SUFFIX,api64.ipify.org,{{{Proxy}}}
DOMAIN-SUFFIX,api-ipv6.ip.sb,{{{Proxy}}}
DOMAIN-SUFFIX,wtfismyip.com,{{{Proxy}}}

[MITM]
hostname = %APPEND% net-lsp-x.com

[Script]
# Request Áî®‰∫é‰∫§‰∫íÂºèÊü•ËØ¢
ÁΩëÁªú‰ø°ÊÅØËØ∑Ê±Ç = type=http-request,pattern=^https?:\/\/net-lsp-x\.com,script-path=https://raw.githubusercontent.com/budaobu/rules/refs/heads/main/module/netisp.js,timeout=60,argument="Proxy={{{Proxy}}}&icon={{{ICON}}}&icon-color={{{ICON-COLOR}}}&LAN={{{LAN}}}&SSID={{{SSID}}}&IPv6={{{IPv6}}}&MASK={{{MASK}}}&DOMESTIC_IPv4={{{DOMESTIC_IPv4}}}&DOMESTIC_IPv6={{{DOMESTIC_IPv6}}}&LANDING_IPv4={{{LANDING_IPv4}}}&LANDING_IPv6={{{LANDING_IPv6}}}&PRIVACY={{{PRIVACY}}}&FLAG={{{FLAG}}}&ENTRANCE_DELAY={{{ENTRANCE_DELAY}}}&TIMEOUT={{{TIMEOUT}}}&RETRIES={{{RETRIES}}}&RETRY_DELAY={{{RETRY_DELAY}}}&ASN={{{ASN}}}&ORG={{{ORG}}}&DOMESTIC_IPv4_KEY={{{DOMESTIC_IPv4_KEY}}}&LANDING_IPv4_KEY={{{LANDING_IPv4_KEY}}}"

# Panel
{{{PANEL_NAME}}} = type=generic,timeout=60,script-path=https://raw.githubusercontent.com/budaobu/rules/refs/heads/main/module/netisp.js,argument="Proxy={{{Proxy}}}&icon={{{ICON}}}&icon-color={{{ICON-COLOR}}}&LAN={{{LAN}}}&SSID={{{SSID}}}&IPv6={{{IPv6}}}&MASK={{{MASK}}}&DOMESTIC_IPv4={{{DOMESTIC_IPv4}}}&DOMESTIC_IPv6={{{DOMESTIC_IPv6}}}&LANDING_IPv4={{{LANDING_IPv4}}}&LANDING_IPv6={{{LANDING_IPv6}}}&PRIVACY={{{PRIVACY}}}&FLAG={{{FLAG}}}&ENTRANCE_DELAY={{{ENTRANCE_DELAY}}}&TIMEOUT={{{TIMEOUT}}}&RETRIES={{{RETRIES}}}&RETRY_DELAY={{{RETRY_DELAY}}}&ASN={{{ASN}}}&ORG={{{ORG}}}&DOMESTIC_IPv4_KEY={{{DOMESTIC_IPv4_KEY}}}&LANDING_IPv4_KEY={{{LANDING_IPv4_KEY}}}",update-interval={{{UPDATE-INTERVAL}}}

[Panel]
{{{PANEL_NAME}}} = script-name=ÁΩëÁªú‰ø°ÊÅØÈù¢Êùø,update-interval={{{UPDATE-INTERVAL}}}
